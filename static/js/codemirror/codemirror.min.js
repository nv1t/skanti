var CodeMirror=(function(){function n(Y,ba){var bk={},a4=n.defaults;for(var by in a4){if(a4.hasOwnProperty(by)){bk[by]=(ba&&ba.hasOwnProperty(by)?ba:a4)[by]}}var bP=bk.document;var bw=bP.createElement("div");bw.className="CodeMirror";bw.innerHTML='<div style="overflow: hidden; position: relative; width: 1px; height: 0px;"><textarea style="position: absolute; width: 2px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll cm-s-'+bk.theme+'"><div style="position: relative"><div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative" draggable="true"><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>';if(Y.appendChild){Y.appendChild(bw)}else{Y(bw)}var b5=bw.firstChild,b2=b5.firstChild,aK=bw.lastChild,aL=aK.firstChild,aD=aL.firstChild,bs=aD.nextSibling,aW=bs.firstChild,b0=aW.firstChild,aO=aW.nextSibling.firstChild,aj=aO.firstChild,an=aj.nextSibling;if(bk.tabindex!=null){b2.tabindex=bk.tabindex}if(!bk.gutter&&!bk.lineNumbers){aW.style.display="none"}var aN=new q(),ax=new q(),am;var bm,bW=[new c("")],be,bb=new g(),i;bu();var aY={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var bd,bG,bE,al;var bq,bU,aQ,at,bS,bA;var bn=0,bD=0,bL=0,aV=null;var aa,bK;var aP="",Z;bX(function(){ap(bk.value||"");bq=false})();l(aK,"mousedown",bX(ay));l(aO,"dragstart",ae);if(!A){l(aK,"contextmenu",av)}l(aK,"scroll",function(){ak([]);if(bk.fixedGutter){aW.style.left=aK.scrollLeft+"px"}if(bk.onScroll){bk.onScroll(bT)}});l(window,"resize",function(){ak(true)});l(b2,"keyup",bX(br));l(b2,"keydown",bX(aB));l(b2,"keypress",bX(bh));l(b2,"focus",aJ);l(b2,"blur",aH);l(aK,"dragenter",o);l(aK,"dragover",o);l(aK,"drop",bX(ar));l(aK,"paste",function(){aw();bR()});l(b2,"paste",function(){bR()});l(b2,"cut",function(){bR()});var ag;try{ag=(bP.activeElement==b2)}catch(a2){}if(ag){setTimeout(aJ,20)}else{aH()}function S(b7){return b7>=0&&b7<bW.length}var bT=bw.CodeMirror={getValue:bl,setValue:bX(ap),getSelection:bN,replaceSelection:bX(aq),focus:function(){aw();aJ();bR()},setOption:function(b7,b8){bk[b7]=b8;if(b7=="lineNumbers"||b7=="gutter"||b7=="firstLineNumber"){bX(U)()}else{if(b7=="mode"||b7=="indentUnit"){bu()}else{if(b7=="readOnly"&&b8=="nocursor"){b2.blur()}else{if(b7=="theme"){aK.className=aK.className.replace(/cm-s-\w+/,"cm-s-"+b8)}}}}},getOption:function(b7){return bk[b7]},undo:bX(bI),redo:bX(b6),indentLine:bX(function(b8,b7){if(S(b8)){aA(b8,b7==null?"smart":b7?"add":"subtract")}}),historySize:function(){return{undo:bb.done.length,redo:bb.undone.length}},matchBrackets:bX(function(){az(true)}),getTokenAt:function(b7){b7=ao(b7);return bW[b7.line].getTokenAt(bm,aM(b7.line),b7.ch)},getStateAfter:function(b7){b7=a6(b7==null?bW.length-1:b7);return aM(b7+1)},cursorCoords:function(b7){if(b7==null){b7=aY.inverted}return bB(b7?aY.from:aY.to)},charCoords:function(b7){return bB(ao(b7))},coordsChar:function(b8){var b9=R(aO);var b7=a6(Math.min(bW.length-1,bn+Math.floor((b8.y-b9.top)/bV())));return ao({line:b7,ch:bj(a6(b7),b8.x-b9.left)})},getSearchCursor:function(b8,b9,b7){return new aE(b8,b9,b7)},markText:bX(function(b8,b7,b9){return bX(X(b8,b7,b9))}),setMarker:bX(au),clearMarker:bX(ai),setLineClass:bX(aU),lineInfo:af,addWidget:function(cb,b9,cd,ca,cf){cb=bC(ao(cb));var cc=cb.yBot,b8=cb.x;b9.style.position="absolute";aL.appendChild(b9);if(ca=="over"){cc=cb.y}else{if(ca=="near"){var b7=Math.max(aK.offsetHeight,bW.length*bV()),ce=Math.max(aL.clientWidth,aO.clientWidth)-bt();if(cb.yBot+b9.offsetHeight>b7&&cb.y>b9.offsetHeight){cc=cb.y-b9.offsetHeight}if(b8+b9.offsetWidth>ce){b8=ce-b9.offsetWidth}}}b9.style.top=(cc+bf())+"px";b9.style.left=b9.style.right="";if(cf=="right"){b8=aL.clientWidth-b9.offsetWidth;b9.style.right="0px"}else{if(cf=="left"){b8=0}else{if(cf=="middle"){b8=(aL.clientWidth-b9.offsetWidth)/2}}b9.style.left=(b8+bt())+"px"}if(cd){b4(b8,cc,b8+b9.offsetWidth,cc+b9.offsetHeight)}},lineCount:function(){return bW.length},getCursor:function(b7){if(b7==null){b7=aY.inverted}return I(b7?aY.from:aY.to)},somethingSelected:function(){return !L(aY.from,aY.to)},setCursor:bX(function(b7,b8){if(b8==null&&typeof b7.line=="number"){a1(b7.line,b7.ch)}else{a1(b7,b8)}}),setSelection:bX(function(b8,b7){bF(ao(b8),ao(b7||b8))}),getLine:function(b7){if(S(b7)){return bW[b7].text}},setLine:bX(function(b7,b8){if(S(b7)){bv(b8,{line:b7,ch:0},{line:b7,ch:bW[b7].text.length})}}),removeLine:bX(function(b7){if(S(b7)){bv("",{line:b7,ch:0},ao({line:b7+1,ch:0}))}}),replaceRange:bX(bv),getRange:function(b8,b7){return bg(ao(b8),ao(b7))},operation:function(b7){return bX(b7)()},refresh:function(){ak(true)},getInputField:function(){return b2},getWrapperElement:function(){return bw},getScrollerElement:function(){return aK},getGutterElement:function(){return aW}};function ap(b7){bb=null;var b8={line:0,ch:0};bp(b8,{line:bW.length-1,ch:bW[bW.length-1].text.length},r(b7),b8,b8);bb=new g();bq=true}function bl(b9){var ca=[];for(var b8=0,b7=bW.length;b8<b7;++b8){ca.push(bW[b8].text)}return ca.join("\n")}function ay(cd){for(var ca=f(cd);ca!=bw;ca=ca.parentNode){if(ca.parentNode==aL&&ca!=bs){return}}for(var ca=f(cd);ca!=bw;ca=ca.parentNode){if(ca.parentNode==b0){if(bk.onGutterClick){bk.onGutterClick(bT,k(b0.childNodes,ca)+bn,cd)}return E(cd)}}var b7=ah(cd);switch(p(cd)){case 3:if(A&&!y){av(cd)}return;case 2:if(b7){a1(b7.line,b7.ch,true)}return}if(!b7){if(f(cd)==aK){E(cd)}return}if(!i){aJ()}var b8=+new Date;if(al>b8-400){E(cd);return aT(b7.line)}else{if(bE>b8-400){al=b8;E(cd);return bo(b7)}else{bE=b8}}var cf=b7,b9;if(u&&!L(aY.from,aY.to)&&!H(b7,aY.from)&&!H(aY.to,b7)){return}E(cd);a1(b7.line,b7.ch,true);function ce(cg){var ci=ah(cg,true);if(ci&&!L(ci,cf)){if(!i){aJ()}cf=ci;aX(b7,ci);bq=false;var ch=bY();if(ci.line>=ch.to||ci.line<ch.from){b9=setTimeout(bX(function(){ce(cg)}),150)}}}var cb=l(bP,"mousemove",bX(function(cg){clearTimeout(b9);E(cg);ce(cg)}),true);var cc=l(bP,"mouseup",bX(function(cg){clearTimeout(b9);var ch=ah(cg);if(ch){aX(b7,ch)}E(cg);aw();bq=true;cb();cc()}),true)}function ar(cb){cb.preventDefault();var ce=ah(cb,true),b8=cb.dataTransfer.files;if(!ce||bk.readOnly){return}if(b8&&b8.length&&window.FileReader&&window.File){function ca(ch,cg){var cf=new FileReader;cf.onload=function(){cc[cg]=cf.result;if(++b9==cd){bv(cc.join(""),ao(ce),ao(ce))}};cf.readAsText(ch)}var cd=b8.length,cc=Array(cd),b9=0;for(var b7=0;b7<cd;++b7){ca(b8[b7],b7)}}else{try{var cc=cb.dataTransfer.getData("Text");if(cc){bv(cc,ce,ce)}}catch(cb){}}}function ae(b8){var b7=bN();B(b7);b8.dataTransfer.setDragImage(O,0,0);b8.dataTransfer.setData("Text",b7)}function aB(cb){if(!i){aJ()}var ca=cb.keyCode;if(x&&ca==27){cb.returnValue=false}var b9=(y?cb.metaKey:cb.ctrlKey)&&!cb.altKey,b8=cb.ctrlKey||cb.altKey||cb.metaKey;if(ca==16||cb.shiftKey){bd=bd||(aY.inverted?aY.to:aY.from)}else{bd=null}if(bk.onKeyEvent&&bk.onKeyEvent(bT,z(cb))){return}if(ca==33||ca==34){bO(ca==34);return E(cb)}if(b9&&((ca==36||ca==35)||y&&(ca==38||ca==40))){bZ(ca==36||ca==38);return E(cb)}if(b9&&ca==65){bx();return E(cb)}if(!bk.readOnly){if(!b8&&ca==13){return}if(!b8&&ca==9&&aF(cb.shiftKey)){return E(cb)}if(b9&&ca==90){bI();return E(cb)}if(b9&&((cb.shiftKey&&ca==90)||ca==89)){b6();return E(cb)}}if(ca==36){if(bk.smartHome){a9();return E(cb)}}aV=(b9?"c":"")+(cb.altKey?"a":"")+ca;if(aY.inverted&&M[aV]===true){var b7=N(b2);if(b7){bG={anchor:b7.start};b(b2,b7.start,b7.start)}}if(!b9&&!cb.altKey){aV=null}bR(aV)}function br(b7){if(bk.onKeyEvent&&bk.onKeyEvent(bT,z(b7))){return}if(bG){bG=null;bq=true}if(b7.keyCode==16){bd=null}}function bh(b9){if(bk.onKeyEvent&&bk.onKeyEvent(bT,z(b9))){return}if(bk.electricChars&&bm.electricChars){var b7=String.fromCharCode(b9.charCode==null?b9.keyCode:b9.charCode);if(bm.electricChars.indexOf(b7)>-1){setTimeout(bX(function(){aA(aY.to.line,"smart")}),50)}}var b8=b9.keyCode;if(b8==13){if(!bk.readOnly){aG()}E(b9)}else{if(!b9.ctrlKey&&!b9.altKey&&!b9.metaKey&&b8==9&&bk.tabMode!="default"){E(b9)}else{bR(aV)}}}function aJ(){if(bk.readOnly=="nocursor"){return}if(!i){if(bk.onFocus){bk.onFocus(bT)}i=true;if(bw.className.search(/\bCodeMirror-focused\b/)==-1){bw.className+=" CodeMirror-focused"}if(!bS){aI()}}bH();T()}function aH(){if(i){if(bk.onBlur){bk.onBlur(bT)}i=false;bw.className=bw.className.replace(" CodeMirror-focused","")}clearInterval(am);setTimeout(function(){if(!i){bd=null}},150)}function bp(ce,cd,cb,b8,b7){if(bb){var b9=[];for(var ca=ce.line,cc=cd.line+1;ca<cc;++ca){b9.push(bW[ca].text)}bb.addChange(ce.line,cb.length,b9);while(bb.done.length>bk.undoDepth){bb.done.shift()}}V(ce,cd,cb,b8,b7)}function a0(cd,cc){var cb=cd.pop();if(cb){var b9=[],b7=cb.start+cb.added;for(var b8=cb.start;b8<b7;++b8){b9.push(bW[b8].text)}cc.push({start:cb.start,added:cb.old.length,old:b9});var ca=ao({line:cb.start+cb.old.length-1,ch:G(b9[b9.length-1],cb.old[cb.old.length-1])});V({line:cb.start,ch:0},{line:b7-1,ch:bW[b7-1].text.length},cb.old,ca,ca);bq=true}}function bI(){a0(bb.done,bb.undone)}function b6(){a0(bb.undone,bb.done)}function V(ci,cb,cn,b7,co){var cm=false,ca=aP.length;for(var cj=ci.line;cj<=cb.line;++cj){if(bW[cj].text.length==ca){cm=true;break}}var ce=cb.line-ci.line,cd=bW[ci.line],b8=bW[cb.line];if(cd==b8){if(cn.length==1){cd.replace(ci.ch,cb.ch,cn[0])}else{b8=cd.split(cb.ch,cn[cn.length-1]);var cf=[ci.line+1,ce];cd.replace(ci.ch,cd.text.length,cn[0]);for(var cj=1,cl=cn.length-1;cj<cl;++cj){cf.push(new c(cn[cj]))}cf.push(b8);bW.splice.apply(bW,cf)}}else{if(cn.length==1){cd.replace(ci.ch,cd.text.length,cn[0]+b8.text.slice(cb.ch));bW.splice(ci.line+1,ce)}else{var cf=[ci.line+1,ce-1];cd.replace(ci.ch,cd.text.length,cn[0]);b8.replace(0,cb.ch,cn[cn.length-1]);for(var cj=1,cl=cn.length-1;cj<cl;++cj){cf.push(new c(cn[cj]))}bW.splice.apply(bW,cf)}}for(var cj=ci.line,cl=cj+cn.length;cj<cl;++cj){var ch=bW[cj].text;if(ch.length>ca){aP=ch;ca=ch.length;Z=null;cm=false}}if(cm){ca=0;aP="";Z=null;for(var cj=0,cl=bW.length;cj<cl;++cj){var ch=bW[cj].text;if(ch.length>ca){ca=ch.length;aP=ch}}}var b9=[],cc=cn.length-ce-1;for(var cj=0,ch=be.length;cj<ch;++cj){var ck=be[cj];if(ck<ci.line){b9.push(ck)}else{if(ck>cb.line){b9.push(ck+cc)}}}if(cn.length<5){bi(ci.line,ci.line+cn.length);b9.push(ci.line+cn.length)}else{b9.push(ci.line)}be=b9;b1(100);bU.push({from:ci.line,to:cb.line+1,diff:cc});aQ={from:ci,to:cb,text:cn};function cg(cp){return cp<=Math.min(cb.line,cb.line+cc)?cp:cp+cc}bF(b7,co,cg(aY.from.line),cg(aY.to.line));aL.style.height=(bW.length*bV()+2*bf())+"px"}function bv(b8,cb,ca){cb=ao(cb);if(!ca){ca=cb}else{ca=ao(ca)}b8=r(b8);function b9(ce){if(H(ce,cb)){return ce}if(!H(ca,ce)){return b7}var cc=ce.line+b8.length-(ca.line-cb.line)-1;var cd=ce.ch;if(ce.line==ca.line){cd+=b8[b8.length-1].length-(ca.ch-(ca.line==cb.line?cb.ch:0))}return{line:cc,ch:cd}}var b7;bJ(b8,cb,ca,function(cc){b7=cc;return{from:b9(aY.from),to:b9(aY.to)}});return b7}function aq(b7,b8){bJ(r(b7),aY.from,aY.to,function(b9){if(b8=="end"){return{from:b9,to:b9}}else{if(b8=="start"){return{from:aY.from,to:aY.from}}else{return{from:aY.from,to:b9}}}})}function bJ(ca,cc,cb,b7){var b9=ca.length==1?ca[0].length+cc.ch:ca[ca.length-1].length;var b8=b7({line:cc.line+ca.length-1,ch:b9});bp(cc,cb,ca,b8.from,b8.to)}function bg(cc,cb){var b8=cc.line,b7=cb.line;if(b8==b7){return bW[b8].text.slice(cc.ch,cb.ch)}var ca=[bW[b8].text.slice(cc.ch)];for(var b9=b8+1;b9<b7;++b9){ca.push(bW[b9].text)}ca.push(bW[b7].text.slice(0,cb.ch));return ca.join("\n")}function bN(){return bg(aY.from,aY.to)}var a5=false;function bH(){if(a5){return}aN.set(2000,function(){ac();bQ();if(i){bH()}aS()})}function bR(b9){var b7=false;a5=true;function b8(){ac();var ca=bQ();if(ca&&b9){if(ca=="moved"&&M[b9]==null){M[b9]=true}if(ca=="changed"){M[b9]=false}}if(!ca&&!b7){b7=true;aN.set(80,b8)}else{a5=false;bH()}aS()}aN.set(20,b8)}function bQ(){if(bS||!i){return}var ce=false,cn=b2.value,cp=N(b2);if(!cp){return false}var ce=aa.text!=cn,cg=bG;var cf=ce||cp.start!=aa.start||cp.end!=(cg?aa.start:aa.end);if(!cf&&!cg){return false}if(ce){bd=bG=null;if(bk.readOnly){bq=true;return"changed"}}function cb(cu,cs){var ct=0;for(;;){var ch=cn.indexOf("\n",ct);if(ch==-1||(cn.charAt(ch-1)=="\r"?ch-1:ch)>=cu){return{line:cs,ch:cu-ct}}++cs;ct=ch+1}}var co=cb(cp.start,aa.from),b8=cb(cp.end,aa.from);if(cg){var cd=cp.start==cg.anchor?b8:co;var ci=bd?aY.to:cp.start==cg.anchor?co:b8;if(aY.inverted=H(cd,ci)){co=cd;b8=ci}else{bG=null;co=ci;b8=cd}}if(co.line==b8.line&&co.line==aY.from.line&&co.line==aY.to.line&&!bd){bq=false}if(ce){var cc=0,ca=cn.length,cq=Math.min(ca,aa.text.length);var cr,ck=aa.from,b9=-1;while(cc<cq&&(cr=cn.charAt(cc))==aa.text.charAt(cc)){++cc;if(cr=="\n"){ck++;b9=cc}}var cl=b9>-1?cc-b9:cc,b7=aa.to-1,cj=aa.text.length;for(;;){cr=aa.text.charAt(cj);if(cn.charAt(ca)!=cr){++ca;++cj;break}if(cr=="\n"){b7--}if(cj<=cc||ca<=cc){break}--ca;--cj}var b9=aa.text.lastIndexOf("\n",cj-1),cm=b9==-1?cj:cj-b9-1;bp({line:ck,ch:cl},{line:b7,ch:cm},r(cn.slice(cc,ca)),co,b8);if(ck!=b7||co.line!=ck){bq=true}}else{bF(co,b8)}aa.text=cn;aa.start=cp.start;aa.end=cp.end;return ce?"changed":cf?"moved":false}function aI(){var ca=[];var cc=Math.max(0,aY.from.line-1),cb=Math.min(bW.length,aY.to.line+2);for(var b9=cc;b9<cb;++b9){ca.push(bW[b9].text)}ca=b2.value=ca.join(d);var b8=aY.from.ch,b7=aY.to.ch;for(var b9=cc;b9<aY.from.line;++b9){b8+=d.length+bW[b9].text.length}for(var b9=cc;b9<aY.to.line;++b9){b7+=d.length+bW[b9].text.length}aa={text:ca,from:cc,to:cb,start:b8,end:b7};b(b2,b8,bG?b8:b7)}function aw(){if(bk.readOnly!="nocursor"){b2.focus()}}function aR(){if(!aj.getBoundingClientRect){return}var b7=aj.getBoundingClientRect();var b8=window.innerHeight||document.body.offsetHeight||document.documentElement.offsetHeight;if(b7.top<0||b7.bottom>b8){aj.scrollIntoView()}}function a3(){var b7=bC(aY.inverted?aY.from:aY.to);return b4(b7.x,b7.y,b7.x,b7.yBot)}function b4(b9,ce,b7,cd){var cb=bt(),ck=bf(),cg=bV();ce+=ck;cd+=ck;b9+=cb;b7+=cb;var ch=aK.clientHeight,ca=aK.scrollTop,b8=false,cj=true;if(ce<ca){aK.scrollTop=Math.max(0,ce-2*cg);b8=true}else{if(cd>ca+ch){aK.scrollTop=cd+cg-ch;b8=true}}var cf=aK.clientWidth,ci=aK.scrollLeft;var cc=bk.fixedGutter?aW.clientWidth:0;if(b9<ci+cc){if(b9<50){b9=0}aK.scrollLeft=Math.max(0,b9-10-cc);b8=true}else{if(b7>cf+ci){aK.scrollLeft=b7+10-cf;b8=true;if(b7>aL.clientWidth){cj=false}}}if(b8&&bk.onScroll){bk.onScroll(bT)}return cj}function bY(){var b7=bV(),b8=aK.scrollTop-bf();return{from:Math.min(bW.length,Math.max(0,Math.floor(b8/b7))),to:Math.min(bW.length,Math.ceil((b8+aK.clientHeight)/b7))}}function ak(cp){if(!aK.clientWidth){bn=bD=0;return}var co=cp===true?[]:[{from:bn,to:bD,domStart:0}];for(var cn=0,cj=cp.length||0;cn<cj;++cn){var cd=cp[cn],cb=[],ce=cd.diff||0;for(var cm=0,ck=co.length;cm<ck;++cm){var cg=co[cm];if(cd.to<=cg.from){cb.push({from:cg.from+ce,to:cg.to+ce,domStart:cg.domStart})}else{if(cg.to<=cd.from){cb.push(cg)}else{if(cd.from>cg.from){cb.push({from:cg.from,to:cd.from,domStart:cg.domStart})}if(cd.to<cg.to){cb.push({from:cd.to+ce,to:cg.to+ce,domStart:cg.domStart+(cd.to-cg.from)})}}}}co=cb}var b8=bY();var cl=Math.min(bn,Math.max(b8.from-3,0)),b7=Math.min(bW.length,Math.max(bD,b8.to+3)),cc=[],cf=0,ca=bD-bn,b9=cl,ci=0;for(var cn=0,cj=co.length;cn<cj;++cn){var cg=co[cn];if(cg.to<=cl){continue}if(cg.from>=b7){break}if(cg.domStart>cf||cg.from>b9){cc.push({from:b9,to:cg.from,domSize:cg.domStart-cf,domStart:cf});ci+=cg.from-b9}b9=cg.to;cf=cg.domStart+(cg.to-cg.from)}if(cf!=ca||b9!=b7){ci+=Math.abs(b7-b9);cc.push({from:b9,to:b7,domSize:ca-cf,domStart:cf});if(b7-b9!=ca-cf){bA=true}}if(!cc.length){return}an.style.display="none";if(ci>(b8.to-b8.from)*0.3){a7(cl=Math.max(b8.from-10,0),b7=Math.min(b8.to+7,bW.length))}else{ad(cc)}an.style.display="";var ch=cl!=bn||b7!=bD||bL!=aK.clientHeight;bn=cl;bD=b7;bs.style.top=(cl*bV())+"px";if(ch){bL=aK.clientHeight;aL.style.height=(bW.length*bV()+2*bf())+"px"}if(ch||bA){ab()}if(Z==null){Z=aZ(aP)}if(Z>aK.clientWidth){aO.style.width=Z+"px";aL.style.width="";aL.style.width=aK.scrollWidth+"px"}else{aO.style.width=aL.style.width=""}if(an.childNodes.length!=bD-bn){throw new Error("BAD PATCH! "+JSON.stringify(cc)+" size="+(bD-bn)+" nodes="+an.childNodes.length)}bM()}function a7(ce,cd){var ca=[],cc={line:ce,ch:0},cb=H(aY.from,cc)&&!H(aY.to,cc);for(var b9=ce;b9<cd;++b9){var b8=null,b7=null;if(cb){b8=0;if(aY.to.line==b9){cb=false;b7=aY.to.ch}}else{if(aY.from.line==b9){if(aY.to.line==b9){b8=aY.from.ch;b7=aY.to.ch}else{cb=true;b8=aY.from.ch}}}ca.push(bW[b9].getHTML(b8,b7,true))}an.innerHTML=ca.join("")}function ad(cj){var ck=aY.from.line,cl=aY.to.line,b9=0,ch=C&&bP.createElement("div");for(var cf=0,cg=cj.length;cf<cg;++cf){var cc=cj[cf];var cb=(cc.to-cc.from)-cc.domSize;var ci=an.childNodes[cc.domStart+cc.domSize+b9]||null;if(C){for(var ce=Math.max(-cb,cc.domSize);ce>0;--ce){an.removeChild(ci?ci.previousSibling:an.lastChild)}}else{if(cb){for(var ce=Math.max(0,cb);ce>0;--ce){an.insertBefore(bP.createElement("pre"),ci)}for(var ce=Math.max(0,-cb);ce>0;--ce){an.removeChild(ci?ci.previousSibling:an.lastChild)}}}var ca=an.childNodes[cc.domStart+b9],cd=ck<cc.from&&cl>=cc.from;for(var ce=cc.from;ce<cc.to;++ce){var b8=null,b7=null;if(cd){b8=0;if(cl==ce){cd=false;b7=aY.to.ch}}else{if(ck==ce){if(cl==ce){b8=aY.from.ch;b7=aY.to.ch}else{cd=true;b8=aY.from.ch}}}if(C){ch.innerHTML=bW[ce].getHTML(b8,b7,true);an.insertBefore(ch.firstChild,ci)}else{ca.innerHTML=bW[ce].getHTML(b8,b7,false);ca.className=bW[ce].className||"";ca=ca.nextSibling}}b9+=cb}}function ab(){if(!bk.gutter&&!bk.lineNumbers){return}var b9=bs.offsetHeight,cg=aK.clientHeight;aW.style.height=(b9-cg<2?cg:b9)+"px";var ce=[];for(var cc=bn;cc<Math.max(bD,bn+1);++cc){var cd=bW[cc].gutterMarker;var cf=bk.lineNumbers?cc+bk.firstLineNumber:null;if(cd&&cd.text){cf=cd.text.replace("%N%",cf!=null?cf:"")}else{if(cf==null){cf="\u00a0"}}ce.push((cd&&cd.style?'<pre class="'+cd.style+'">':"<pre>"),cf,"</pre>")}aW.style.display="none";b0.innerHTML=ce.join("");var cb=String(bW.length).length,b7=b0.firstChild,b8=v(b7),ca="";while(b8.length+ca.length<cb){ca+="\u00a0"}if(ca){b7.insertBefore(bP.createTextNode(ca),b7.firstChild)}aW.style.display="";aO.style.marginLeft=aW.offsetWidth+"px";bA=false}function bM(){var b9=aY.inverted?aY.from:aY.to,b8=bV();var b7=W(b9.line,b9.ch);var ca=b9.line*b8-aK.scrollTop;b5.style.top=Math.max(Math.min(ca,aK.offsetHeight),0)+"px";b5.style.left=(b7-aK.scrollLeft)+"px";if(L(aY.from,aY.to)){aj.style.top=(b9.line-bn)*b8+"px";aj.style.left=b7+"px";aj.style.display=""}else{aj.style.display="none"}}function aX(b9,b8){var b7=bd&&ao(bd);if(b7){if(H(b7,b9)){b9=b7}else{if(H(b8,b7)){b8=b7}}}bF(b9,b8)}function bF(cb,ca,b7,b9){if(L(aY.from,cb)&&L(aY.to,ca)){return}if(H(ca,cb)){var b8=ca;ca=cb;cb=b8}if(L(cb,ca)){aY.inverted=false}else{if(L(cb,aY.to)){aY.inverted=false}else{if(L(ca,aY.from)){aY.inverted=true}}}if(b7==null){b7=aY.from.line;b9=aY.to.line}if(L(cb,ca)){if(!L(aY.from,aY.to)){bU.push({from:b7,to:b9+1})}}else{if(L(aY.from,aY.to)){bU.push({from:cb.line,to:ca.line+1})}else{if(!L(cb,aY.from)){if(cb.line<b7){bU.push({from:cb.line,to:Math.min(ca.line,b7)+1})}else{bU.push({from:b7,to:Math.min(b9,cb.line)+1})}}if(!L(ca,aY.to)){if(ca.line<b9){bU.push({from:Math.max(b7,cb.line),to:b9+1})}else{bU.push({from:Math.max(cb.line,b9),to:ca.line+1})}}}}aY.from=cb;aY.to=ca;at=true}function a1(b7,b9,b8){var ca=ao({line:b7,ch:b9||0});(b8?aX:bF)(ca,ca)}function a6(b7){return Math.max(0,Math.min(b7,bW.length-1))}function ao(b9){if(b9.line<0){return{line:0,ch:0}}if(b9.line>=bW.length){return{line:bW.length-1,ch:bW[bW.length-1].text.length}}var b7=b9.ch,b8=bW[b9.line].text.length;if(b7==null||b7>b8){return{line:b9.line,ch:b8}}else{if(b7<0){return{line:b9.line,ch:0}}else{return b9}}}function bO(b9){var b7=Math.floor(aK.clientHeight/bV()),b8=aY.inverted?aY.from:aY.to;a1(b8.line+(Math.max(b7-1,1)*(b9?1:-1)),b8.ch,true)}function bZ(b7){var b8=b7?{line:0,ch:0}:{line:bW.length-1,ch:bW[bW.length-1].text.length};aX(b8,b8)}function bx(){var b7=bW.length-1;bF({line:0,ch:0},{line:b7,ch:bW[b7].text.length})}function bo(ca){var b8=bW[ca.line].text;var b9=ca.ch,b7=ca.ch;while(b9>0&&/\w/.test(b8.charAt(b9-1))){--b9}while(b7<b8.length&&/\w/.test(b8.charAt(b7))){++b7}aX({line:ca.line,ch:b9},{line:ca.line,ch:b7})}function aT(b7){aX({line:b7,ch:0},{line:b7,ch:bW[b7].text.length})}function aG(){aq("\n","end");if(bk.enterMode!="flat"){aA(aY.from.line,bk.enterMode=="keep"?"prev":"smart")}}function aF(b7){function b8(cb){if(L(aY.from,aY.to)){return aA(aY.from.line,cb)}var ca=aY.to.line-(aY.to.ch?0:1);for(var b9=aY.from.line;b9<=ca;++b9){aA(b9,cb)}}bd=null;switch(bk.tabMode){case"default":return false;case"indent":b8("smart");break;case"classic":if(L(aY.from,aY.to)){if(b7){aA(aY.from.line,"smart")}else{aq("\t","end")}break}case"shift":b8(b7?"subtract":"add");break}return true}function a9(){var b7=Math.max(0,bW[aY.from.line].text.search(/\S/));a1(aY.from.line,aY.from.ch<=b7&&aY.from.ch?0:b7,true)}function aA(b9,cg){if(cg=="smart"){if(!bm.indent){cg="prev"}else{var b7=aM(b9)}}var ch=bW[b9],cb=ch.indentation(),b8=ch.text.match(/^\s*/)[0],cd;if(cg=="prev"){if(b9){cd=bW[b9-1].indentation()}else{cd=0}}else{if(cg=="smart"){cd=bm.indent(b7,ch.text.slice(b8.length))}else{if(cg=="add"){cd=cb+bk.indentUnit}else{if(cg=="subtract"){cd=cb-bk.indentUnit}}}}cd=Math.max(0,cd);var cf=cd-cb;if(!cf){if(aY.from.line!=b9&&aY.to.line!=b9){return}var ce=b8}else{var ce="",cc=0;if(bk.indentWithTabs){for(var ca=Math.floor(cd/s);ca;--ca){cc+=s;ce+="\t"}}while(cc<cd){++cc;ce+=" "}}bv(ce,{line:b9,ch:0},{line:b9,ch:b8.length})}function bu(){bm=n.getMode(bk,bk.mode);for(var b8=0,b7=bW.length;b8<b7;++b8){bW[b8].stateAfter=null}be=[0];b1()}function U(){var b7=bk.gutter||bk.lineNumbers;aW.style.display=b7?"":"none";if(b7){bA=true}else{an.parentNode.style.marginLeft=0}}function X(cd,cc,b9){cd=ao(cd);cc=ao(cc);var b7=[];function cb(ce,ci,ch,cf){var ce=bW[ce],cg=ce.addMark(ci,ch,cf);cg.line=ce;b7.push(cg)}if(cd.line==cc.line){cb(cd.line,cd.ch,cc.ch,b9)}else{cb(cd.line,cd.ch,null,b9);for(var b8=cd.line+1,ca=cc.line;b8<ca;++b8){cb(b8,0,null,b9)}cb(cc.line,0,cc.ch,b9)}bU.push({from:cd.line,to:cc.line+1});return function(){var ci,ce;for(var cf=0;cf<b7.length;++cf){var ch=b7[cf],cg=k(bW,ch.line);ch.line.removeMark(ch);if(cg>-1){if(ci==null){ci=cg}ce=cg}}if(ci!=null){bU.push({from:ci,to:ce+1})}}}function au(b7,b9,b8){if(typeof b7=="number"){b7=bW[a6(b7)]}b7.gutterMarker={text:b9,style:b8};bA=true;return b7}function ai(b7){if(typeof b7=="number"){b7=bW[a6(b7)]}b7.gutterMarker=null;bA=true}function aU(b7,b8){if(typeof b7=="number"){var b9=b7;b7=bW[a6(b7)]}else{var b9=k(bW,b7);if(b9==-1){return null}}if(b7.className!=b8){b7.className=b8;bU.push({from:b9,to:b9+1})}return b7}function af(b8){if(typeof b8=="number"){var b9=b8;b8=bW[b8];if(!b8){return null}}else{var b9=k(bW,b8);if(b9==-1){return null}}var b7=b8.gutterMarker;return{line:b9,text:b8.text,markerText:b7&&b7.text,markerClass:b7&&b7.style}}function aZ(b7){aD.innerHTML="<pre><span>x</span></pre>";aD.firstChild.firstChild.firstChild.nodeValue=b7;return aD.firstChild.firstChild.offsetWidth||10}function W(b7,b8){if(b8==0){return 0}aD.innerHTML="<pre><span>"+bW[b7].getHTML(null,null,false,b8)+"</span></pre>";return aD.firstChild.firstChild.offsetWidth}function bj(cj,cd){if(cd<=0){return 0}var ca=bW[cj],cg=ca.text;function ch(ck){aD.innerHTML="<pre><span>"+ca.getHTML(null,null,false,ck)+"</span></pre>";return aD.firstChild.firstChild.offsetWidth}var ce=0,cc=0,cf=cg.length,cb;var b8=Math.min(cf,Math.ceil(cd/aZ("x")));for(;;){var b9=ch(b8);if(b9<=cd&&b8<cf){b8=Math.min(cf,Math.ceil(b8*1.2))}else{cb=b9;cf=b8;break}}if(cd>cb){return cf}b8=Math.floor(cf*0.8);b9=ch(b8);if(b9<cd){ce=b8;cc=b9}for(;;){if(cf-ce<=1){return(cb-cd>cd-cc)?ce:cf}var ci=Math.ceil((ce+cf)/2),b7=ch(ci);if(b7>cd){cf=ci;cb=b7}else{ce=ci;cc=b7}}}function bC(ca,b9){var b8=bV(),b7=ca.line-(b9?bn:0);return{x:W(ca.line,ca.ch),y:b7*b8,yBot:(b7+1)*b8}}function bB(b9){var b7=bC(b9,true),b8=R(aO);return{x:b8.left+b7.x,y:b8.top+b7.y,yBot:b8.top+b7.yBot}}function bV(){var b7=an.childNodes.length;if(b7){return(an.offsetHeight/b7)||1}aD.innerHTML="<pre>x</pre>";return aD.firstChild.offsetHeight||1}function bf(){return aO.offsetTop}function bt(){return aO.offsetLeft}function ah(cc,cb){var ca=R(aK,true),b7,cd;try{b7=cc.clientX;cd=cc.clientY}catch(cc){return null}if(!cb&&(b7-ca.left>aK.clientWidth||cd-ca.top>aK.clientHeight)){return null}var b9=R(aO,true);var b8=bn+Math.floor((cd-b9.top)/bV());return ao({line:b8,ch:bj(a6(b8),b7-b9.left)})}function av(b8){var cc=ah(b8);if(!cc||window.opera){return}if(L(aY.from,aY.to)||H(cc,aY.from)||!H(cc,aY.to)){bX(a1)(cc.line,cc.ch)}var cb=b2.style.cssText;b5.style.position="absolute";b2.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b8.clientY-5)+"px; left: "+(b8.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";bS=true;var ca=b2.value=bN();aw();b(b2,0,b2.value.length);function b7(){var cd=r(b2.value).join("\n");if(cd!=ca){bX(aq)(cd,"end")}b5.style.position="relative";b2.style.cssText=cb;bS=false;aI();bH()}if(A){o(b8);var b9=l(window,"mouseup",function(){b9();setTimeout(b7,20)},true)}else{setTimeout(b7,50)}}function T(){clearInterval(am);var b7=true;aj.style.visibility="";am=setInterval(function(){aj.style.visibility=(b7=!b7)?"":"hidden"},650)}var b3={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function az(cd){var b7=aY.inverted?aY.from:aY.to,cf=bW[b7.line],b8=b7.ch-1;var cc=(b8>=0&&b3[cf.text.charAt(b8)])||b3[cf.text.charAt(++b8)];if(!cc){return}var cg=cc.charAt(0),ce=cc.charAt(1)==">",cr=ce?1:-1,cm=cf.styles;for(var cs=b8+1,co=0,cq=cm.length;co<cq;co+=2){if((cs-=cm[co].length)<=0){var cp=cm[co+1];break}}var ca=[cf.text.charAt(b8)],cl=/[(){}[\]]/;function cj(cD,cy,cz){if(!cD.text){return}var cC=cD.styles,cx=ce?0:cD.text.length-1,cA;for(var cu=ce?0:cC.length-2,cw=ce?cC.length:-2;cu!=cw;cu+=2*cr){var cB=cC[cu];if(cC[cu+1]!=null&&cC[cu+1]!=cp){cx+=cr*cB.length;continue}for(var ct=ce?0:cB.length-1,ch=ce?cB.length:-1;ct!=ch;ct+=cr,cx+=cr){if(cx>=cy&&cx<cz&&cl.test(cA=cB.charAt(ct))){var cv=b3[cA];if(cv.charAt(1)==">"==ce){ca.push(cA)}else{if(ca.pop()!=cv.charAt(0)){return{pos:cx,match:false}}else{if(!ca.length){return{pos:cx,match:true}}}}}}}}for(var co=b7.line,cq=ce?Math.min(co+100,bW.length):Math.max(-1,co-100);co!=cq;co+=cr){var cf=bW[co],cb=co==b7.line;var ci=cj(cf,cb&&ce?b8+1:0,cb&&!ce?b8:cf.text.length);if(ci){break}}if(!ci){ci={pos:null,match:false}}var cp=ci.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var cn=X({line:b7.line,ch:b8},{line:b7.line,ch:b8+1},cp),b9=ci.pos!=null?X({line:co,ch:ci.pos},{line:co,ch:ci.pos+1},cp):function(){};var ck=bX(function(){cn();b9()});if(cd){setTimeout(ck,800)}else{bK=ck}}function a8(cd){var cc,b9;for(var b8=cd,ca=cd-40;b8>ca;--b8){if(b8==0){return 0}var b7=bW[b8-1];if(b7.stateAfter){return b8}var cb=b7.indentation();if(b9==null||cc>cb){b9=b8-1;cc=cb}}return b9}function aM(cb){var ca=a8(cb),b9=ca&&bW[ca-1].stateAfter;if(!b9){b9=F(bm)}else{b9=j(bm,b9)}for(var b8=ca;b8<cb;++b8){var b7=bW[b8];b7.highlight(bm,b9);b7.stateAfter=j(bm,b9)}if(cb<bW.length&&!bW[cb].stateAfter){be.push(cb)}return b9}function bi(cb,b8){var ca=aM(cb);for(var b9=cb;b9<b8;++b9){var b7=bW[b9];b7.highlight(bm,ca);b7.stateAfter=j(bm,ca)}}function bc(){var cd=+new Date+bk.workTime;var ci=be.length;while(be.length){if(!bW[bn].stateAfter){var ca=bn}else{var ca=be.pop()}if(ca>=bW.length){continue}var b8=a8(ca),b7=b8&&bW[b8-1].stateAfter;if(b7){b7=j(bm,b7)}else{b7=F(bm)}var cc=0,b9=bm.compareStates,ch=false;for(var cg=b8,cb=bW.length;cg<cb;++cg){var cj=bW[cg],ce=cj.stateAfter;if(+new Date>cd){be.push(cg);b1(bk.workDelay);if(ch){bU.push({from:ca,to:cg+1})}return}var cf=cj.highlight(bm,b7);if(cf){ch=true}cj.stateAfter=j(bm,b7);if(b9){if(ce&&b9(ce,b7)){break}}else{if(cf!==false||!ce){cc=0}else{if(++cc>3){break}}}}if(ch){bU.push({from:ca,to:cg+1})}}if(ci&&bk.onHighlightComplete){bk.onHighlightComplete(bT)}}function b1(b7){if(!be.length){return}ax.set(b7,bX(bc))}function ac(){bq=null;bU=[];aQ=at=false}function aS(){var b8=false;if(at){b8=!a3()}if(bU.length){ak(bU)}else{if(at){bM()}if(bA){ab()}}if(b8){a3()}if(at){aR();T()}if(i&&!bS&&(bq===true||(bq!==false&&at))){aI()}if(at&&bk.matchBrackets){setTimeout(bX(function(){if(bK){bK();bK=null}az(false)}),20)}var b7=aQ;if(at&&bk.onCursorActivity){bk.onCursorActivity(bT)}if(b7&&bk.onChange&&bT){bk.onChange(bT,b7)}}var aC=0;function bX(b7){return function(){if(!aC++){ac()}try{var b8=b7.apply(this,arguments)}finally{if(!--aC){aS()}}return b8}}function aE(b9,cb,b8){this.atOccurrence=false;if(b8==null){b8=typeof b9=="string"&&b9==b9.toLowerCase()}if(cb&&typeof cb=="object"){cb=ao(cb)}else{cb={line:0,ch:0}}this.pos={from:cb,to:cb};if(typeof b9!="string"){this.matches=function(ce,ci){if(ce){var cc=bW[ci.line].text.slice(0,ci.ch),cd=cc.match(b9),ch=0;while(cd){var cf=cc.indexOf(cd[0]);ch+=cf;cc=cc.slice(cf+1);var cg=cc.match(b9);if(cg){cd=cg}else{break}ch++}}else{var cc=bW[ci.line].text.slice(ci.ch),cd=cc.match(b9),ch=cd&&ci.ch+cc.indexOf(cd[0])}if(cd){return{from:{line:ci.line,ch:ch},to:{line:ci.line,ch:ch+cd[0].length},match:cd}}}}else{if(b8){b9=b9.toLowerCase()}var b7=b8?function(cc){return cc.toLowerCase()}:function(cc){return cc};var ca=b9.split("\n");if(ca.length==1){this.matches=function(cf,cg){var cd=b7(bW[cg.line].text),cc=b9.length,ce;if(cf?(cg.ch>=cc&&(ce=cd.lastIndexOf(b9,cg.ch-cc))!=-1):(ce=cd.indexOf(b9,cg.ch))!=-1){return{from:{line:cg.line,ch:ce},to:{line:cg.line,ch:ce+cc}}}}}else{this.matches=function(ch,cj){var ci=cj.line,ck=(ch?ca.length-1:0),cf=ca[ck],cl=b7(bW[ci].text);var cg=(ch?cl.indexOf(cf)+cf.length:cl.lastIndexOf(cf));if(ch?cg>=cj.ch||cg!=cf.length:cg<=cj.ch||cg!=cl.length-cf.length){return}for(;;){if(ch?!ci:ci==bW.length-1){return}cl=b7(bW[ci+=ch?-1:1].text);cf=ca[ch?--ck:++ck];if(ck>0&&ck<ca.length-1){if(cl!=cf){return}else{continue}}var ce=(ch?cl.lastIndexOf(cf):cl.indexOf(cf)+cf.length);if(ch?ce!=cl.length-cf.length:ce!=cf.length){return}var cc={line:cj.line,ch:cg},cd={line:ci,ch:ce};return{from:ch?cd:cc,to:ch?cc:cd}}}}}}aE.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(b8){var b7=this,ca=ao(b8?this.pos.from:this.pos.to);function b9(cb){var cc={line:cb,ch:0};b7.pos={from:cc,to:cc};b7.atOccurrence=false;return false}for(;;){if(this.pos=this.matches(b8,ca)){this.atOccurrence=true;return this.pos.match||true}if(b8){if(!ca.line){return b9(0)}ca={line:ca.line-1,ch:bW[ca.line-1].text.length}}else{if(ca.line==bW.length-1){return b9(bW.length)}ca={line:ca.line+1,ch:0}}}},from:function(){if(this.atOccurrence){return I(this.pos.from)}},to:function(){if(this.atOccurrence){return I(this.pos.to)}},replace:function(b8){var b7=this;if(this.atOccurrence){bX(function(){b7.pos.to=bv(b8,b7.pos.from,b7.pos.to)})()}}};for(var bz in J){if(J.propertyIsEnumerable(bz)&&!bT.propertyIsEnumerable(bz)){bT[bz]=J[bz]}}return bT}n.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,tabMode:"classic",enterMode:"indent",electricChars:true,onKeyEvent:null,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,smartHome:true,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,undoDepth:40,tabindex:null,document:window.document};var P={},D={};n.defineMode=function(i,S){if(!n.defaults.mode&&i!="null"){n.defaults.mode=i}P[i]=S};n.defineMIME=function(S,i){D[S]=i};n.getMode=function(T,i){if(typeof i=="string"&&D.hasOwnProperty(i)){i=D[i]}if(typeof i=="string"){var V=i,S={}}else{if(i!=null){var V=i.name,S=i}}var U=P[V];if(!U){if(window.console){console.warn("No mode "+V+" found, falling back to plain text.")}return n.getMode(T,"text/plain")}return U(T,S||{})};n.listModes=function(){var S=[];for(var i in P){if(P.propertyIsEnumerable(i)){S.push(i)}}return S};n.listMIMEs=function(){var S=[];for(var i in D){if(D.propertyIsEnumerable(i)){S.push({mime:i,mode:D[i]})}}return S};var J={};n.defineExtension=function(i,S){J[i]=S};n.fromTextArea=function(S,U){if(!U){U={}}U.value=S.value;if(!U.tabindex&&S.tabindex){U.tabindex=S.tabindex}function W(){S.value=i.getValue()}if(S.form){var V=l(S.form,"submit",W,true);if(typeof S.form.submit=="function"){var T=S.form.submit;function X(){W();S.form.submit=T;S.form.submit();S.form.submit=X}S.form.submit=X}}S.style.display="none";var i=n(function(Y){S.parentNode.insertBefore(Y,S.nextSibling)},U);i.save=W;i.toTextArea=function(){W();S.parentNode.removeChild(i.getWrapperElement());S.style.display="";if(S.form){V();if(typeof S.form.submit=="function"){S.form.submit=T}}};return i};function j(U,i){if(i===true){return i}if(U.copyState){return U.copyState(i)}var T={};for(var V in i){var S=i[V];if(S instanceof Array){S=S.concat([])}T[V]=S}return T}n.startState=F;function F(T,S,i){return T.startState?T.startState(S,i):true}n.copyState=j;function a(i){this.pos=this.start=0;this.string=i}a.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(i){var T=this.string.charAt(this.pos);if(typeof i=="string"){var S=T==i}else{var S=T&&(i.test?i.test(T):i(T))}if(S){++this.pos;return T}},eatWhile:function(i){var S=this.pos;while(this.eat(i)){}return this.pos>S},eatSpace:function(){var i=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>i},skipToEnd:function(){this.pos=this.string.length},skipTo:function(i){var S=this.string.indexOf(i,this.pos);if(S>-1){this.pos=S;return true}},backUp:function(i){this.pos-=i},column:function(){return h(this.string,this.start)},indentation:function(){return h(this.string)},match:function(U,S,i){if(typeof U=="string"){function V(W){return i?W.toLowerCase():W}if(V(this.string).indexOf(V(U),this.pos)==this.pos){if(S!==false){this.pos+=U.length}return true}}else{var T=this.string.slice(this.pos).match(U);if(T&&S!==false){this.pos+=T[0].length}return T}},current:function(){return this.string.slice(this.start,this.pos)}};n.StringStream=a;function c(S,i){this.styles=i||[S,null];this.stateAfter=null;this.text=S;this.marked=this.gutterMarker=this.className=null}c.prototype={replace:function(X,Y,ab){var ac=[],V=this.marked;Q(0,X,this.styles,ac);if(ab){ac.push(ab,null)}Q(Y,this.text.length,this.styles,ac);this.styles=ac;this.text=this.text.slice(0,X)+ab+this.text.slice(Y);this.stateAfter=null;if(V){var Z=ab.length-(Y-X),T=this.text.length;function W(i){return i<=Math.min(Y,Y+Z)?i:i+Z}for(var U=0;U<V.length;++U){var S=V[U],aa=false;if(S.from>=T){aa=true}else{S.from=W(S.from);if(S.to!=null){S.to=W(S.to)}}if(aa||S.from>=S.to){V.splice(U,1);U--}}}},split:function(T,S){var i=[S,null];Q(T,this.text.length,this.styles,i);return new c(S+this.text.slice(T),i)},addMark:function(V,U,S){var i=this.marked,T={from:V,to:U,style:S};if(this.marked==null){this.marked=[]}this.marked.push(T);this.marked.sort(function(X,W){return X.from-W.from});return T},removeMark:function(U){var S=this.marked;if(!S){return}for(var T=0;T<S.length;++T){if(S[T]==U){S.splice(T,1);break}}},highlight:function(W,S){var Y=new a(this.text),aa=this.styles,X=0;var V=false,T=aa[0],Z;if(this.text==""&&W.blankLine){W.blankLine(S)}while(!Y.eol()){var i=W.token(Y,S);var U=this.text.slice(Y.start,Y.pos);Y.start=Y.pos;if(X&&aa[X-1]==i){aa[X-2]+=U}else{if(U){if(!V&&(aa[X+1]!=i||(X&&aa[X-2]!=Z))){V=true}aa[X++]=U;aa[X++]=i;Z=T;T=aa[X]}}if(Y.pos>5000){aa[X++]=this.text.slice(Y.pos);aa[X++]=null;break}}if(aa.length!=X){aa.length=X;V=true}if(X&&aa[X-2]!=Z){V=true}return V||(aa.length<5&&this.text.length<10?null:false)},getTokenAt:function(W,U,T){var i=this.text,V=new a(i);while(V.pos<T&&!V.eol()){V.start=V.pos;var S=W.token(V,U)}return{start:V.start,end:V.pos,string:V.current(),className:S||null,state:U}},indentation:function(){return h(this.text)},getHTML:function(ae,ai,V,ag){var Y=[];if(V){Y.push(this.className?'<pre class="'+this.className+'">':"<pre>")}function aj(ar,i){if(!ar){return}if(i){Y.push('<span class="',i,'">',B(ar),"</span>")}else{Y.push(B(ar))}}var ad=this.styles,W=this.text,ac=this.marked;if(ae==ai){ae=null}var al=W.length;if(ag!=null){al=Math.min(ag,al)}if(!W&&ag==null){aj(" ",ae!=null&&ai==null?"CodeMirror-selected":null)}else{if(!ac&&ae==null){for(var ak=0,Z=0;Z<al;ak+=2){var af=ad[ak],ah=af.length;if(Z+ah>al){af=af.slice(0,al-Z)}Z+=ah;aj(af,"cm-"+ad[ak+1])}}else{var U=0,ak=0,ab="",am,ap=0;var an=-1,X=null;function ao(){if(ac){an+=1;X=(an<ac.length)?ac[an]:null}}ao();while(U<al){var aa=al;var aq="";if(ae!=null){if(ae>U){aa=ae}else{if(ai==null||ai>U){aq=" CodeMirror-selected";if(ai!=null){aa=Math.min(aa,ai)}}}}while(X&&X.to!=null&&X.to<=U){ao()}if(X){if(X.from>U){aa=Math.min(aa,X.from)}else{aq+=" "+X.style;if(X.to!=null){aa=Math.min(aa,X.to)}}}for(;;){var T=U+ab.length;var S=am;if(aq){S=am?am+aq:aq}aj(T>aa?ab.slice(0,aa-U):ab,S);if(T>=aa){ab=ab.slice(aa-U);U=aa;break}U=T;ab=ad[ak++];am="cm-"+ad[ak++]}}if(ae!=null&&ai==null){aj(" ","CodeMirror-selected")}}}if(V){Y.push("</pre>")}return Y.join("")}};function Q(Y,Z,S,aa){for(var W=0,X=0,T=0;X<Z;W+=2){var U=S[W],V=X+U.length;if(T==0){if(V>Y){aa.push(U.slice(Y-X,Math.min(U.length,Z-X)),S[W+1])}if(V>=Y){T=1}}else{if(T==1){if(V>Z){aa.push(U.slice(0,Z-X),S[W+1])}else{aa.push(U,S[W+1])}}}X=V}}function g(){this.time=0;this.done=[];this.undone=[]}g.prototype={addChange:function(Z,U,S){this.undone.length=0;var Y=+new Date,W=this.done[this.done.length-1];if(Y-this.time>400||!W||W.start>Z+U||W.start+W.added<Z-W.added+W.old.length){this.done.push({start:Z,added:U,old:S})}else{var V=0;if(Z<W.start){for(var T=W.start-Z-1;T>=0;--T){W.old.unshift(S[T])}W.added+=W.start-Z;W.start=Z}else{if(W.start<Z){V=Z-W.start;U+=V}}for(var T=W.added-V,X=S.length;T<X;++T){W.old.push(S[T])}if(W.added<U){W.added=U}}this.time=Y}};function w(){o(this)}function z(i){if(!i.stop){i.stop=w}return i}function E(i){if(i.preventDefault){i.preventDefault()}else{i.returnValue=false}}function t(i){if(i.stopPropagation){i.stopPropagation()}else{i.cancelBubble=true}}function o(i){E(i);t(i)}function f(i){return i.target||i.srcElement}function p(i){if(i.which){return i.which}else{if(i.button&1){return 1}else{if(i.button&2){return 3}else{if(i.button&4){return 2}}}}}function l(U,T,S,i){function V(W){S(W||window.event)}if(typeof U.addEventListener=="function"){U.addEventListener(T,V,false);if(i){return function(){U.removeEventListener(T,V,false)}}}else{U.attachEvent("on"+T,V);if(i){return function(){U.detachEvent("on"+T,V)}}}}function q(){this.id=null}q.prototype={set:function(i,S){clearTimeout(this.id);this.id=setTimeout(S,i)}};var C=(function(){var i=document.createElement("pre");i.innerHTML=" ";return !i.innerHTML})();var u=(function(){if(/MSIE [1-8]\b/.test(navigator.userAgent)){return false}var i=document.createElement("div");return"ondragstart" in i&&"ondrop" in i})();var A=/gecko\/\d{7}/i.test(navigator.userAgent);var x=/MSIE \d/.test(navigator.userAgent);var e=/Apple Computer/.test(navigator.vendor);var d="\n";(function(){var i=document.createElement("textarea");i.value="foo\nbar";if(i.value.indexOf("\r")>-1){d="\r\n"}}());var s=8;var y=/Mac/.test(navigator.platform);var M={};for(var K=35;K<=40;++K){M[K]=M["c"+K]=true}function h(T,S){if(S==null){S=T.search(/[^\s\u00a0]/);if(S==-1){S=T.length}}for(var U=0,V=0;U<S;++U){if(T.charAt(U)=="\t"){V+=s-(V%s)}else{++V}}return V}function m(i){if(i.currentStyle){return i.currentStyle}return window.getComputedStyle(i,null)}function R(U,T){var W=U.ownerDocument.body;var S=0,Y=0,i=false;for(var X=U;X;X=X.offsetParent){S+=X.offsetLeft;Y+=X.offsetTop;if(T&&m(X).position=="fixed"){i=true}}var V=T&&!i?null:W;for(var X=U.parentNode;X!=V;X=X.parentNode){if(X.scrollLeft!=null){S-=X.scrollLeft;Y-=X.scrollTop}}return{left:S,top:Y}}function v(i){return i.textContent||i.innerText||i.nodeValue||""}function L(S,i){return S.line==i.line&&S.ch==i.ch}function H(S,i){return S.line<i.line||(S.line==i.line&&S.ch<i.ch)}function I(i){return{line:i.line,ch:i.ch}}var O=document.createElement("div");function B(i){O.innerText=O.textContent=i;return O.innerHTML}n.htmlEscape=B;function G(V,U){if(!U){return V?V.length:0}if(!V){return U.length}for(var T=V.length,S=U.length;T>=0&&S>=0;--T,--S){if(V.charAt(T)!=U.charAt(S)){break}}return S+1}function k(V,S){if(V.indexOf){return V.indexOf(S)}for(var T=0,U=V.length;T<U;++T){if(V[T]==S){return T}}return -1}var r,N,b;if("\n\nb".split(/\n/).length!=3){r=function(T){var U=0,S,i=[];while((S=T.indexOf("\n",U))>-1){i.push(T.slice(U,T.charAt(S-1)=="\r"?S-1:S));U=S+1}i.push(T.slice(U));return i}}else{r=function(i){return i.split(/\r?\n/)}}n.splitLines=r;if(window.getSelection){N=function(S){try{return{start:S.selectionStart,end:S.selectionEnd}}catch(i){return null}};if(e){b=function(S,T,i){if(T==i){S.setSelectionRange(T,i)}else{S.setSelectionRange(T,i-1);window.getSelection().modify("extend","forward","character")}}}else{b=function(T,U,i){try{T.setSelectionRange(U,i)}catch(S){}}}}else{N=function(U){try{var Y=U.ownerDocument.selection.createRange()}catch(aa){return null}if(!Y||Y.parentElement()!=U){return null}var T=U.value,Z=T.length,ab=U.createTextRange();ab.moveToBookmark(Y.getBookmark());var W=U.createTextRange();W.collapse(false);if(ab.compareEndPoints("StartToEnd",W)>-1){return{start:Z,end:Z}}var S=-ab.moveStart("character",-Z);for(var X=T.indexOf("\r");X>-1&&X<S;X=T.indexOf("\r",X+1),S++){}if(ab.compareEndPoints("EndToEnd",W)>-1){return{start:S,end:Z}}var V=-ab.moveEnd("character",-Z);for(var X=T.indexOf("\r");X>-1&&X<V;X=T.indexOf("\r",X+1),V++){}return{start:S,end:V}};b=function(W,Y,T){var U=W.createTextRange();U.collapse(true);var S=U.duplicate();var V=0,i=W.value;for(var X=i.indexOf("\n");X>-1&&X<Y;X=i.indexOf("\n",X+1)){++V}U.move("character",Y-V);for(;X>-1&&X<T;X=i.indexOf("\n",X+1)){++V}S.move("character",T-V);U.setEndPoint("EndToEnd",S);U.select()}}n.defineMode("null",function(){return{token:function(i){i.skipToEnd()}}});n.defineMIME("text/plain","null");return n})();