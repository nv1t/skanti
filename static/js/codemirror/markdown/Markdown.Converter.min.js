var Markdown;if(typeof exports==="object"&&typeof require==="function"){Markdown=exports}else{Markdown={}}(function(){function c(e){return e}function d(e){return false}function b(){}b.prototype={chain:function(g,f){var e=this[g];if(!e){throw new Error("unknown hook "+g)}if(e===c){this[g]=f}else{this[g]=function(h){return f(e(h))}}},set:function(f,e){if(!this[f]){throw new Error("unknown hook "+f)}this[f]=e},addNoop:function(e){this[e]=c},addFalse:function(e){this[e]=d}};Markdown.HookCollection=b;function a(){}a.prototype={set:function(e,f){this["s_"+e]=f},get:function(e){return this["s_"+e]}};Markdown.Converter=function(){var j=this.hooks=new b();j.addNoop("plainLinkText");j.addNoop("preConversion");j.addNoop("postConversion");var w;var n;var e;var z;this.makeHtml=function(O){if(w){throw new Error("Recursive call to converter.makeHtml")}w=new a();n=new a();e=[];z=0;O=j.preConversion(O);O=O.replace(/~/g,"~T");O=O.replace(/\$/g,"~D");O=O.replace(/\r\n/g,"\n");O=O.replace(/\r/g,"\n");O="\n\n"+O+"\n\n";O=I(O);O=O.replace(/^[ \t]+$/mg,"");O=o(O);O=m(O);O=f(O);O=L(O);O=O.replace(/~D/g,"$$");O=O.replace(/~T/g,"~");O=j.postConversion(O);e=n=w=null;return O};function m(O){O=O.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(R,T,S,Q,P,U){T=T.toLowerCase();w.set(T,C(S));if(P){return Q}else{if(U){n.set(T,U.replace(/"/g,"&quot;"))}}return""});return O}function o(Q){var P="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del";var O="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math";Q=Q.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,N);Q=Q.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,N);Q=Q.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,N);Q=Q.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,N);Q=Q.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,N);return Q}function N(O,P){var Q=P;Q=Q.replace(/^\n+/,"");Q=Q.replace(/\n+$/g,"");Q="\n\n~K"+(e.push(Q)-1)+"K\n\n";return Q}function f(Q,P){Q=i(Q);var O="<hr />\n";Q=Q.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,O);Q=Q.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,O);Q=Q.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,O);Q=K(Q);Q=q(Q);Q=g(Q);Q=o(Q);Q=H(Q,P);return Q}function k(O){O=r(O);O=v(O);O=G(O);O=D(O);O=E(O);O=J(O);O=C(O);O=x(O);O=O.replace(/  +\n/g," <br>\n");return O}function v(P){var O=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;P=P.replace(O,function(R){var Q=R.replace(/(.)<\/?code>(?=.)/g,"$1`");Q=y(Q,R.charAt(1)=="!"?"\\`*_/":"\\`*_");return Q});return P}function E(O){O=O.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,h);O=O.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,h);O=O.replace(/(\[([^\[\]]+)\])()()()()()/g,h);return O}function h(U,aa,Z,Y,X,W,T,S){if(S==undefined){S=""}var R=aa;var P=Z;var Q=Y.toLowerCase();var O=X;var V=S;if(O==""){if(Q==""){Q=P.toLowerCase().replace(/ ?\n/g," ")}O="#"+Q;if(w.get(Q)!=undefined){O=w.get(Q);if(n.get(Q)!=undefined){V=n.get(Q)}}else{if(R.search(/\(\s*\)$/m)>-1){O=""}else{return R}}}O=A(O);O=y(O,"*_");var ab='<a href="'+O+'"';if(V!=""){V=V.replace(/"/g,"&quot;");V=y(V,"*_");ab+=' title="'+V+'"'}ab+=">"+P+"</a>";return ab}function D(O){O=O.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,F);O=O.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,F);return O}function F(U,aa,Z,Y,X,W,T,S){var R=aa;var Q=Z;var P=Y.toLowerCase();var O=X;var V=S;if(!V){V=""}if(O==""){if(P==""){P=Q.toLowerCase().replace(/ ?\n/g," ")}O="#"+P;if(w.get(P)!=undefined){O=w.get(P);if(n.get(P)!=undefined){V=n.get(P)}}else{return R}}Q=Q.replace(/"/g,"&quot;");O=y(O,"*_");var ab='<img src="'+O+'" alt="'+Q+'"';V=V.replace(/"/g,"&quot;");V=y(V,"*_");ab+=' title="'+V+'"';ab+=" />";return ab}function i(O){O=O.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(P,Q){return"<h1>"+k(Q)+"</h1>\n\n"});O=O.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(Q,P){return"<h2>"+k(P)+"</h2>\n\n"});O=O.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(P,S,R){var Q=S.length;return"<h"+Q+">"+k(R)+"</h"+Q+">\n\n"});return O}function K(P){P+="~0";var O=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;if(z){P=P.replace(O,function(R,U,T){var V=U;var S=(T.search(/[*+-]/g)>-1)?"ul":"ol";var Q=l(V,S);Q=Q.replace(/\s+$/,"");Q="<"+S+">"+Q+"</"+S+">\n";return Q})}else{O=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g;P=P.replace(O,function(S,W,U,R){var V=W;var X=U;var T=(R.search(/[*+-]/g)>-1)?"ul":"ol";var Q=l(X,T);Q=V+"<"+T+">\n"+Q+"</"+T+">\n";return Q})}P=P.replace(/~0/,"");return P}var p={ol:"\\d+[.]",ul:"[*+-]"};function l(Q,P){z++;Q=Q.replace(/\n{2,}$/,"\n");Q+="~0";var O=p[P];var R=new RegExp("(^[ \\t]*)("+O+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+O+")[ \\t]+))","gm");var S=false;Q=Q.replace(R,function(U,W,V,T){var Z=T;var aa=W;var Y=/\n\n$/.test(Z);var X=Y||Z.search(/\n{2,}/)>-1;if(X||S){Z=f(t(Z),true)}else{Z=K(t(Z));Z=Z.replace(/\n$/,"");Z=k(Z)}S=Y;return"<li>"+Z+"</li>\n"});Q=Q.replace(/~0/g,"");z--;return Q}function q(O){O+="~0";O=O.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(P,R,Q){var S=R;var T=Q;S=B(t(S));S=I(S);S=S.replace(/^\n+/g,"");S=S.replace(/\n+$/g,"");S="<pre><code>"+S+"\n</code></pre>";return"\n\n"+S+"\n\n"+T});O=O.replace(/~0/,"");return O}function M(O){O=O.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(e.push(O)-1)+"K\n\n"}function r(O){O=O.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(R,T,S,Q,P){var U=Q;U=U.replace(/^([ \t]*)/g,"");U=U.replace(/[ \t]*$/g,"");U=B(U);return T+"<code>"+U+"</code>"});return O}function B(O){O=O.replace(/&/g,"&amp;");O=O.replace(/</g,"&lt;");O=O.replace(/>/g,"&gt;");O=y(O,"*_{}[]\\",false);return O}function x(O){O=O.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4");O=O.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4");return O}function g(O){O=O.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(P,Q){var R=Q;R=R.replace(/^[ \t]*>[ \t]?/gm,"~0");R=R.replace(/~0/g,"");R=R.replace(/^[ \t]+$/gm,"");R=f(R);R=R.replace(/(^|\n)/g,"$1  ");R=R.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(S,T){var U=T;U=U.replace(/^  /mg,"~0");U=U.replace(/~0/g,"");return U});return M("<blockquote>\n"+R+"\n</blockquote>")});return O}function H(V,R){V=V.replace(/^\n+/g,"");V=V.replace(/\n+$/g,"");var U=V.split(/\n{2,}/g);var Q=[];var O=U.length;for(var P=0;P<O;P++){var T=U[P];if(T.search(/~K(\d+)K/g)>=0){Q.push(T)}else{if(T.search(/\S/)>=0){T=k(T);T=T.replace(/^([ \t]*)/g,"<p>");T+="</p>";Q.push(T)}}}if(!R){O=Q.length;for(var P=0;P<O;P++){while(Q[P].search(/~K(\d+)K/)>=0){var S=e[RegExp.$1];S=S.replace(/\$/g,"$$$$");Q[P]=Q[P].replace(/~K\d+K/,S)}}}return Q.join("\n\n")}function C(O){O=O.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");O=O.replace(/<(?![a-z\/?\$!])/gi,"&lt;");return O}function G(O){O=O.replace(/\\(\\)/g,s);O=O.replace(/\\([`*_{}\[\]()>#+-.!])/g,s);return O}function J(P){P=P.replace(/(^|\s)(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\]])($|\W)/gi,"$1<$2$3>$4");var O=function(R,Q){return'<a href="'+Q+'">'+j.plainLinkText(Q)+"</a>"};P=P.replace(/<((https?|ftp):[^'">\s]+)>/gi,O);return P}function L(O){O=O.replace(/~E(\d+)E/g,function(P,R){var Q=parseInt(R);return String.fromCharCode(Q)});return O}function t(O){O=O.replace(/^(\t|[ ]{1,4})/gm,"~0");O=O.replace(/~0/g,"");return O}function I(R){if(!/\t/.test(R)){return R}var Q=["    ","   ","  "," "],P=0,O;return R.replace(/[\n\t]/g,function(S,T){if(S==="\n"){P=T+1;return S}O=(T-P)%4;P=T+1;return Q[O]})}var u=/(?:["'*()[\]:]|~D)/g;function A(P){if(!P){return""}var O=P.length;return P.replace(u,function(Q,R){if(Q=="~D"){return"%24"}if(Q==":"){if(R==O-1||/[0-9\/]/.test(P.charAt(R+1))){return":"}}return"%"+Q.charCodeAt(0).toString(16)})}function y(S,P,Q){var O="(["+P.replace(/([\[\]\\])/g,"\\$1")+"])";if(Q){O="\\\\"+O}var R=new RegExp(O,"g");S=S.replace(R,s);return S}function s(O,Q){var P=Q.charCodeAt(0);return"~E"+P+"E"}}})();